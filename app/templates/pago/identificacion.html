<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Identificacion</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <!--css bootstrap 5-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!--css bootstrap 5-->

    <!--css bootstrap 4-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!--css bootstrap 4-->

</head>
<body>
    
    <!--Navbar top-->
    <div class="container">
        <div class="navbar-top">
            <div class="social-link">
                <i><img src="../../static/images/facebook-logo-24.png" alt="" width="30px"></i>
                <i><img src="../../static/images/instagram-logo-24.png" alt="" width="30px"></i>
                <i><img src="../../static/images/twitch-logo-24.png" alt="" width="30px"></i>
            </div>
            <div class="logo">
                <i><img src="../../static/images/logo.png" alt="" height="30px"></i>    
            </div>
            <div class="search">
                <i><img src="../../static/images/search-alt-2-regular-24.png" alt="" width="30px"></i>

                {% if current_user.is_authenticated %}
                    <i>
                        <a data-bs-toggle="modal" data-bs-target="#carrito">
                            <img src="../../static/images/shopping-bag-regular-24.png" alt="" width="30px">
                            <!--<span id="contador-carrito" class="contador">{{ session.get('total_items', 0) }}</span>-->
                        </a>
                    </i>
                    {% else %}
                    <i>
                        <a data-bs-toggle="modal" data-bs-target="#mi-modal">
                            <img src="../../static/images/user-plus-regular-24.png" alt="" width="30px">
                        </a>
                    </i>
                {% endif %}
            </div>
        </div>
    </div>
    <!--Navbar top-->

    <!-- Menu -->
    <div class="main-content">
        <nav class="navbar navbar-expand-md" id="navbar-color">
            <div class="container">
          
            <!-- Toggler/collapsibe Button -->
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
                <span><i><img src="../../static/images/menu.png" alt="" width="30px"></i></span>
                </button>
            
                <!-- Navbar links -->
                <div class="collapse navbar-collapse" id="collapsibleNavbar">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="#">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Shop</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Chair</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Chair</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Brands</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Contac</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

    </div>
    <!-- Menu -->
    

    <!--Progreso de pago-->
    <div class="container">
        <div class="progreso-pago">
            <div class="progreso-icons">
                <div class="progreso-text active">
                    <img src="../../static/images/shopping-bag-white.png" alt="">
                    <p>Shopping</p>
                </div>
                <div class="progreso-separador active">
                    <img src="../../static/images/separador.png" alt="">
                </div>
                <div class="progreso-text active">
                    <img src="../../static/images/user-regular-24-white.png" alt="">
                    <p>Identificacion</p>
                </div>
                <div class="progreso-separador active">
                    <img src="../../static/images/separador.png" alt="">
                </div>
                {% if direccion_cliente %}
                <div class="progreso-text active">
                    <img src="../../static/images/package-regular-white.png" alt="">
                    <p>Entrega</p>
                </div>
                <div class="progreso-separador active">
                    <img src="../../static/images/separador.png" alt="">
                </div>
                {% else %}
                <div class="progreso-text">
                    <img src="../../static/images/package-regular-24.png" alt="">
                    <p>Entrega</p>
                </div>
                <div class="progreso-separador">
                    <img src="../../static/images/separador.png" alt="">
                </div>
                {% endif %}
                <div class="progreso-text">
                    <img src="../../static/images/credit-card-regular-24.png" alt="">
                    <p>Pago</p>
                </div>
            </div>
        </div>
    </div>
    <!--Progreso de pago-->


    
    <section class="carrito-shopping">

        <div class="pago-carrito container">
            <div class="identificacion">

                <!-- Volver al inicio -->
                <div class="container volver-inicio">
                    <a href="{{ url_for('producto.index') }}" class="volver-inicio-txt">< Volver a comprar</a>
                </div>
                <!-- Volver al inicio -->

                <!-- Paso 1: Identificacion -->
                <div class="identificacion-1">
                    <div class="titulo">
                        <div class="titulo-numero-paso">
                            <h5 >1</h5>
                        </div>
                        <div class="titulo-txt">
                            <h5>Identificacion</h5>
                        </div>
                    </div>
                    <div class="datos">
                        <div class="datos-txt">
                            <p> 
                                {% for carrito in dataCar %}
                                {{ carrito.usuario.correo_electronico }}
                                {% endfor %}
                            </p>
                            <p>
                                <strong>Nombre: </strong>
                                {% for carrito in dataCar %}
                                {{ carrito.usuario.nombre }} {{ carrito.usuario.apellido }}
                                {% endfor %}
                            </p>
                            <p>
                                <strong>Telefono: </strong>
                                {% for carrito in dataCar %}
                                {{ carrito.usuario.telefono }}
                                {% endfor %}
                            </p>
                        </div>
                        <div class="datos-img">
                            <img src="../../static/images/edit-solid-24.png" alt="">
                        </div>
                       
                    </div>
                </div>
                <!-- Paso 1: Identificacion -->

                <!-- Paso 2: Entrega -->
                <div class="identificacion-2">
                    <div class="titulo">
                        <div class="titulo-numero-paso">
                            <h5 >2</h5>
                        </div>
                        <div class="titulo-txt">
                            <h5>Envio</h5>
                        </div>
                    </div>

                    {% if direccion_cliente %}
                        <div class="container-datos-entrega">
                            <div class="datos-1">
                                <div class="datos-txt">
                                    <div>
                                        <p>{{ direccion_cliente.calle }} - {{ direccion_cliente.barrio }}</p>
                                        <p>{{ direccion_cliente.municipio }} - {{ direccion_cliente.departamento }}</p>
                                    </div>
                                    <div>
                                        <p><strong>Disponible viernes, 27 septiembre</strong></p>
                                    </div>
                                </div>
                                <div class="datos-img">
                                    <p>Gratis</p>
                                </div>
                            </div>
                            <div class="cambiar-datos-entrega">
                                <a href="#">Cambiar opciones de entrega</a>
                            </div>
                        </div>
                    {% else %}

                        <form action="{{ url_for('direccion_cliente.add') }}" method="post">
                            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                            <div class="formulario-envio">
                                <h5>Formulario de envio</h5>
                                <div class="formulario-input">
                                    <div class="row">
                                        <div class="col">
                                            <label for="">Departamento</label>
                                            <input type="text" class="form-control" placeholder="Departamento" name="departamento" required>
                                        </div>
                                        <div class="col">
                                            <label for="">Municipio</label>
                                            <input type="text" class="form-control" placeholder="Municipio" name="municipio" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="formulario-input">
                                    <label for="">Calle</label>
                                    <input type="text" class="form-control" placeholder="Direccion" name="calle" required>
                                </div>
                                <div class="formulario-input">
                                    <label for="">Información adicional (ej.: apto. 201)
                                    </label>
                                    <input type="text" class="form-control" placeholder="Direccin complementaria" name="informacion_adicional" required>
                                </div>
                                <div class="formulario-input">
                                    <label for="">Barrio
                                    </label>
                                    <input type="text" class="form-control" placeholder="Opcional" name="barrio" required>
                                </div>
                                <div class="formulario-input">
                                    <label for="">Destinatario
                                    </label>
                                    <input type="text" class="form-control" placeholder="Destinatario" value="{% for carrito in dataCar %} {{ carrito.usuario.nombre }} {{ carrito.usuario.apellido }}
                                    {% endfor %}" name="destinatario" required>
                                </div>
                                <div class="formulario-input check">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
                                        <label class="form-check-label" for="exampleRadios1"> Envio a domicilio
                                        </label>
                                        <br>
                                        <small>Disponible lunes, 8 de octubre</small>
                                    </div>
                                    <div>
                                        <p>Gratis</p>
                                    </div>
                                </div>
                                <div class="formulario-input">
                                    <small>No podras modificar direccion o punto de retiro una vez colocada la ftvorden, ni devolver o cambiar los productos en tienda o puntos de retiro</small>
                                </div>
                                <div class="formulario-input button">
                                    <button class="btn-1 btn-primary" type="submit">Ir a pagar</button>
                                </div>
                            </div>
                        </form>
                    {% endif %}
                </div>
                <!-- Paso 2: Entrega -->

                <!-- Paso 3: pago -->
                <div class="identificacion-2">
                    <div class="titulo">
                        <div class="titulo-numero-paso">
                            <h5>3</h5>
                        </div>
                        <div class="titulo-txt">
                            <h5>Pago</h5>
                        </div>
                    </div>
                    <div class="container-informacion-tarjeta">
                        <div class="medios-pago">
                            <ul>
                                <li onclick="mostrarFormulario('credito'); seleccionarOpcion(this);">Tarjeta de credito</li>
                                <li onclick="mostrarFormulario('debito'); seleccionarOpcion(this);" >Tarjeta de  debito</li>
                                <li onclick="mostrarFormulario('pse'); seleccionarOpcion(this);">PSE</li>
                            </ul>
                        </div>
                    </div>
                    

                    <!-- Formularios de pago-->

                    <!-- Pago por tarjeta credito -->
                    <div class="formulario-envio" id="form-credito">
                        <h4 class="title-metodo-pago">Tarjeta de credito</h4>
                        <form action="">
                            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                            <div class="col-12 formulario-input">
                                <label for="">Numero de tarjeta</label>
                                <input type="text" class="form-control" placeholder="Numero" name="numero" required>
                            </div>
                            <div class="col-8 formulario-input">
                                <label for="">Cuotas disponibles
                                </label>
                                <select class="form-select" aria-label="Default select example" required>
                                    <option selected>¿En cuantas cuotas deseas pagar?</option>
                                    <option value="1">Total $50.000</option>
                                    <option value="2">3</option>
                                    <option value="3">6</option>
                                    <option value="4">6</option>
                                    <option value="4">12</option>
                                  </select>
                            </div>
                            <div class="col-12 formulario-input">
                                <label for="">Nombre y apellido como figura en la tarjeta
                                </label>
                                <input type="text" class="form-control" placeholder="Nombre y apellido" name="nombre_tarjeta" required>
                            </div>

                            <div class="col-8 formulario-input">
                                <label for="mes-anio" class="form-label">Fecha de vencimiento</label>
                                <input type="month" class="form-control" id="mes-anio" name="mes-anio" required>
                            </div>

                            <div class="col-8 formulario-input">
                                <label for="">Codigo de seguridad
                                </label>
                                <input type="text" class="form-control" placeholder="###" name="codigo_seguridad" required>
                            </div>
                            
                            <div class="formulario-input button">
                                <button class="btn-1 btn-primary" type="submit">Ir a pagar</button>
                            </div>
                        </form>
                    </div> 

                    <!-- Pago por tarjeta credito -->


                    <!-- Pago por tarjeta debito -->
                    
                    <div id="form-debito" class="formulario-envio" style="display: none;">
                        <h4 class="title-metodo-pago">Tarjeta de debito</h4>
                        <form action="">
                            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                            <div class="col-12 formulario-input">
                                <label for="">Numero de tarjeta</label>
                                <input type="text" class="form-control" placeholder="Numero" name="numero" required>
                            </div>
                            <div class="col-8 formulario-input">
                                <label for="">Cuotas disponibles
                                </label>
                                <select class="form-select" aria-label="Default select example" required>
                                    <option value="1" selected>Total $50.000</option>
                                </select>
                            </div>
                            <div class="col-12 formulario-input">
                                <label for="">Nombre y apellido como figura en la tarjeta
                                </label>
                                <input type="text" class="form-control" placeholder="Nombre y apellido" name="nombre_tarjeta" required>
                            </div>

                            <div class="col-8 formulario-input">
                                <label for="mes-anio" class="form-label">Fecha de vencimiento</label>
                                <input type="month" class="form-control" id="mes-anio" name="mes-anio" required>
                            </div>

                            <div class="col-8 formulario-input">
                                <label for="">Codigo de seguridad
                                </label>
                                <input type="text" class="form-control" placeholder="###" name="codigo_seguridad" required>
                            </div>
                            
                            <div class="formulario-input button">
                                <button class="btn-1 btn-primary" type="submit">Ir a pagar</button>
                            </div>
                        </form>
                    </div>

                    <!-- Pago por tarjeta debito -->


                    <!-- Pago por pse -->

                    <div id="form-pse" class="formulario-envio" style="display: none;">
                        <h4 class="title-metodo-pago">Pago por PSE</h4>
                        <form action="">
                            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                            <div class="medio-pago-pse">
                                <img src="../../static/images/logo-pse.jpg" alt="">
                                <p>Escoge tu banco para continuar con el pago</p>
                            </div>
                            <div class="col-12 formulario-input">
                                <select class="form-select" aria-label="Default select example" required>
                                    <option value="" selected>Seleccione su banco</option>
                                    <option value="bancolombia">Bancolombia</option>
                                    <option value="davivienda">Davivienda</option>
                                    <option value="banco_de_bogota">Banco de Bogotá</option>
                                    <option value="banco_popular">Banco Popular</option>
                                    <option value="banco_agrario">Banco Agrario</option>
                                    <option value="banco_av_villas">Banco AV Villas</option>
                                    <option value="bbva">BBVA</option>
                                    <option value="colpatria">Scotiabank Colpatria</option>
                                    <option value="banco_occidente">Banco de Occidente</option>
                                    <option value="itau">Itaú</option>
                                    <option value="cooperativa_financiera_john_f_kennedy">Cooperativa Financiera John F. Kennedy</option>
                                    <option value="coopcentral">Coopcentral</option>
                                    <option value="banco_w">Banco W</option>
                                    <option value="finandina">Finandina</option>
                                    <option value="gNB_sudameris">GNB Sudameris</option>
                                    <option value="banco_pichincha">Banco Pichincha</option>
                                    <option value="serfinanza">Banco Serfinanza</option>
                                    <option value="bancoomeva">Bancoomeva</option>
                                    <option value="banco_falabella">Banco Falabella</option>
                                    <option value="coomeva_financiera">Coomeva Financiera</option>
                                </select>
                            </div>
                        </form>
                    </div>

                    <!-- Pago por pse -->


                </div>
                <!-- Paso 3: pago -->
            </div>

            <!-- Carrito pequeño proceso de pago -->
            <div class="pago-carrito-progreso">
                <h4>Resumen de la compra</h4>
                <div>
                    {% for carrito in dataCar %}
                    <div class="carrito-progreso">
                        <div>
                            {% for producto in dataP %}
                                {% if producto.id == carrito.producto_id %}
                                    {% if producto.imagen %}
                                        {% set direccion = 'images/' + producto.imagen %}
                                        <img src="{{ url_for('static', filename=direccion) }}" alt="{{ producto.nombre }}">
                                    {% endif %}
                                {% endif %}
                            {% endfor %}
                        </div>
                        <div class="carrito-txt">
                            <p>{% for producto in dataP %}
                                    {% if producto.id == carrito.producto_id %}
                                        {{ producto.nombre }}
                                    {% endif %}
                                {% endfor %}
                            </p>
                            <p>EUR 38</p>
                            <p class="precio">
                                {% for producto in dataP %}
                                    {% if producto.id == carrito.producto_id %}
                                        ${{ producto.precio }}
                                    {% endif %}
                                {% endfor %}
                            </p>
                        </div>
                    </div>
                    {% endfor %}

                    <hr>

                    <div class="carrito-summary">
                        <div class="summary-item subtotal">
                            <span>Subtotal</span>
                            <span>${{ total }}</span>
                        </div>
                        <div class="summary-item subtotal">
                            <span>Gastos de envio</span>
                            <span>Gratis</span>
                        </div>
                    </div>
                    <hr>
                    <div class="carrito-summary">
                        <div class="summary-item total">
                            <span>Total</span>
                            <span>${{ total }}</span>
                        </div>
                    </div>
                </div>
                <div class="comprar-ahora">
                    <a href="{{ url_for('orden.generar_orden') }}", method="POST"><button>Comprar ahora</button></a>
                </div>
            </div>
            <!-- Carrito pequeño proceso de pago -->

        </div>
    </section>


    <footer class="text-center text-white" style="background-color: black;">
            
        <div class="container p-1">
            
            <div class="container mb-3">
                <!-- Social Media Icons (Centered in a row) -->
                <div class="d-flex justify-content-center align-items-center mb-4" style="gap: 30px;">
                    <a class="icons-footer" href="#!" role="button"><i class="fab fa-tiktok"></i></a>
                    <a class="icons-footer" href="#!" role="button"><i class="fab fa-google"></i></a>
                    <a class="icons-footer" href="#!" role=""><i class="fab fa-instagram"></i></a>
                    <a class="icons-footer" href="#!" role="button"><i class="fab fa-facebook"></i></a>
                    <a class="icons-footer" href="#!" role="button"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>
            

            <section class="">
                <form action="">
                    
                <div class="row d-flex justify-content-center">
                    
                    <div class="col-auto">
                        <p class="pt-2">
                            <strong>¿Como te parecio nuestro catalogo?</strong>
                        </p>
                    </div>

                    <div class="col-md-5 col-12">
                    
                    <div class="mb-3">
                        <input type="text" class="form-control" id="" placeholder="Comentario" required>
                    </div>
                    </div>
                    

                    <div class="col-auto">
                        
                    <button data-mdb-ripple-init type="submit" class="btn btn-primary ">
                        Enviar
                    </button>
                    </div>
                    
                </div>
                
                </form>
            </section>

            <section class="mb-4">
                <p>
                    Inspirando creatividad y elegancia en nuestra comunidad. <br> Contáctanos: 
                    programanike@gmail.com | Tel: (311) 575 96 79.
                </p>
            </section>
            
        
        </div>

        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.05);">
        © 2024 Street Sneakers.
        <a class="text-reset fw-bold" href="https://mdbootstrap.com/">Todos los derechos reservados.</a>
        </div>
        
    </footer>
    <!-- Footer -->


    <script src="{{ url_for('static', filename='js/mostrar_metodo_pago.js') }}"></script>


     <!--js bootstrap 5-->
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
     <!--js bootstrap 5-->
 
 
     <!--js bootstrap 4-->
     <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
     <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
     <!--js bootstrap 4-->
</body>
</html>